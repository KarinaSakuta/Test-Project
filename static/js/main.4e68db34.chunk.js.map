{"version":3,"sources":["api/cats.js","components/Header.js","components/Loading.js","components/ListPage.js","components/Menu.js","components/DetailsPage.js","components/Footer.js","components/LoginPage.js","components/App.js","index.js"],"names":["getCatsList","catsListData","catsData","map","element","id","name","originCountry","foundationDate","wcfCategory","imageUrl","Promise","resolve","setTimeout","getCatInfo","catInfoData","find","Header","onLogOutClick","bind","onLogInClick","credentials","localStorage","getItem","Boolean","removeItem","window","location","reload","this","props","history","push","isAuthorized","className","onClick","to","renderButton","Component","HeaderWithRouter","withRouter","Loading","ListPage","state","list","isLoading","then","setState","index","key","src","alt","renderListItems","Menu","menuItems","items","activeId","elementClasses","classnames","title","renderLinks","DetailsPage","info","catsList","nextProps","newId","getCatIdFromProps","all","data","params","match","Number","catId","getMenuItems","Footer","LoginPage","login","password","onFormSubmit","handleInputChange","event","target","value","preventDefault","loginData","setItem","JSON","stringify","onSubmit","type","required","onChange","App","component","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4e68db34.chunk.js","sourcesContent":["import catsData from './cats.json';\r\n\r\nexport function getCatsList() {\r\n    const catsListData = catsData.map((element) => {\r\n        return {\r\n            id: element.id,\r\n            name: element.name,\r\n            originCountry: element.originCountry,\r\n            foundationDate: element.foundationDate,\r\n            wcfCategory: element.wcfCategory,\r\n            imageUrl: element.imageUrl,\r\n        };\r\n    });\r\n\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            resolve(catsListData);\r\n        }, 500);\r\n    });\r\n}\r\n\r\nexport function getCatInfo(id) {\r\n    const catInfoData = catsData.find((element) => {\r\n        return element.id === id;\r\n    });\r\n\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            resolve(catInfoData);\r\n        }, 500);\r\n    });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Header extends Component {\r\n    constructor () {\r\n        super();\r\n\r\n        this.onLogOutClick = this.onLogOutClick.bind(this);\r\n        this.onLogInClick = this.onLogInClick.bind(this);\r\n    }\r\n\r\n    isAuthorized() {\r\n        const credentials = localStorage.getItem('credentials');\r\n        return Boolean(credentials);\r\n    }\r\n\r\n    onLogOutClick() {\r\n        localStorage.removeItem('credentials');\r\n        window.location.reload();\r\n    }\r\n\r\n    onLogInClick() {\r\n        const { history } = this.props;\r\n        history.push('/login');\r\n    }\r\n\r\n    renderButton() {\r\n        if (this.isAuthorized()) {\r\n            return (\r\n                <button className=\"header__button header__button_logout\" onClick={this.onLogOutClick}>Выйти</button>\r\n            );\r\n        } else {\r\n            return (\r\n                <button className=\"header__button header__button_login\" onClick={this.onLogInClick}>Войти</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n                <div className=\"header__container\">\r\n                    <h1 className=\"header__title\">Karina cats list</h1>\r\n                    <Link className=\"header__link\" to=\"/\">Главная</Link>\r\n                </div>\r\n                {this.renderButton()}\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nconst HeaderWithRouter = withRouter(Header);\r\n\r\nexport default HeaderWithRouter;\r\n","import React, {Component} from 'react';\r\n\r\nexport default class Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"loading__spinner\"></div>\r\n        <p className=\"loading__spinner-text\">Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getCatsList } from '../api/cats';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Loading from './Loading';\r\n\r\nexport default class ListPage extends Component {\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            list: [],\r\n            isLoading: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        getCatsList().then((list) => {\r\n            this.setState({\r\n                isLoading: false,\r\n                list,\r\n            });\r\n        });\r\n    }\r\n\r\n    renderListItems() {\r\n        return this.state.list.map((element, index) => {\r\n            return (\r\n               <li className=\"list__item\">\r\n                   <Link className=\"list__item-link\" to={`/details/${index}`} key={index}>\r\n                       <h3 className=\"list__item-title\">{element.name}</h3>\r\n                       <div className=\"list__item-image-container\">\r\n                           <img className=\"list__item-image\" src={element.imageUrl} alt={element.name}/>\r\n                       </div>\r\n                   </Link>\r\n                </li>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return <Loading />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"page\">\r\n                <Header/>\r\n                <div className=\"page__content\">\r\n                    <div className=\"list\">\r\n                        <h2 className=\"list__title\">Список котиков Карины</h2>\r\n                        <ul className=\"list__container\">\r\n                            {this.renderListItems()}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\n\r\nexport default class Menu extends Component {\r\n    renderLinks() {\r\n        const menuItems = this.props.items;\r\n        const activeId = this.props.activeId;\r\n\r\n        return menuItems.map((element) => {\r\n            const elementClasses = classnames('menu__item', {\r\n                'menu__item_active': element.id === activeId,\r\n            });\r\n\r\n            return (\r\n                <li className={elementClasses}>\r\n                    <Link className=\"menu__item-link\" to={`/details/${element.id}`}>\r\n                        <img className=\"menu__item-img\" alt={element.title} src={element.imageUrl} />\r\n                        <span className=\"menu__item-title\">{element.title}</span>\r\n                    </Link>\r\n                </li>\r\n            );\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <nav className=\"menu\">\r\n                <ul className=\"menu__list\">\r\n                    {this.renderLinks()}\r\n                </ul>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nMenu.propTypes = {\r\n    items: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            title: PropTypes.string.isRequired,\r\n            imageUrl: PropTypes.string.isRequired,\r\n        }),\r\n    ).isRequired,\r\n    activeId: PropTypes.number.isRequired,\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { getCatInfo, getCatsList } from '../api/cats';\r\nimport Menu from './Menu';\r\nimport Header from './Header';\r\nimport Loading from './Loading';\r\n\r\nexport default class DetailsPage extends Component {\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            isLoading: true,\r\n            info: null,\r\n            catsList: [],\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const newId = this.getCatIdFromProps(nextProps);\r\n        const oldId = this.getCatIdFromProps(this.props);\r\n\r\n        if (newId === oldId) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            isLoading: true,\r\n        });\r\n        \r\n        getCatInfo(newId).then((info) => {    \r\n            this.setState({\r\n                info,\r\n                isLoading: false,\r\n            });\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.getCatIdFromProps(this.props);\r\n\r\n        Promise.all([\r\n            getCatInfo(id),\r\n            getCatsList(),\r\n        ]).then((data) => {\r\n            const info = data[0];\r\n            const catsList = data[1];\r\n\r\n            this.setState({\r\n                isLoading: false,\r\n                info,\r\n                catsList,\r\n            });\r\n        });\r\n    }\r\n\r\n    getCatIdFromProps(props) {\r\n        const params = props.match.params;\r\n        const catId = Number(params.catId);\r\n        return catId;\r\n    }\r\n\r\n    getMenuItems() {\r\n        return this.state.catsList.map((element) => {\r\n            return {\r\n                id: element.id,\r\n                imageUrl: element.imageUrl,\r\n                title: element.name,\r\n            };\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return <Loading />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"page\">\r\n                <Header />\r\n                <div className=\"page__content\">\r\n                    <div className=\"details\">\r\n                        <img className=\"details__img\" src={this.state.info.imageUrl} alt={this.state.info.name}></img>\r\n                        <h2 className=\"details__title\">{this.state.info.name}</h2>\r\n                        <div className=\"details__container\">\r\n                        </div>\r\n                        <Menu items={this.getMenuItems()} activeId={this.getCatIdFromProps(this.props)}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Footer extends Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"footer\">\r\n                <div className=\"footer__container\">\r\n                </div>\r\n            </footer>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class LoginPage extends Component {\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            login: '',\r\n            password: '',\r\n        };\r\n\r\n        this.onFormSubmit = this.onFormSubmit.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n\r\n    isAuthorized() {\r\n        const credentials = localStorage.getItem('credentials');\r\n        return Boolean(credentials);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.isAuthorized()) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value,\r\n        });\r\n      }\r\n\r\n    onFormSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        const loginData = {\r\n            login: this.state.login,\r\n            password: this.state.password,\r\n        };\r\n\r\n        localStorage.setItem('credentials', JSON.stringify(loginData));\r\n        window.location.reload();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page page_login\">\r\n                <div className=\"page__content\">\r\n                    <div className=\"login\">\r\n                        <form className=\"login__form\" onSubmit={this.onFormSubmit}>\r\n                            <label className=\"login__form-label\">\r\n                                Логин:\r\n                                <input type=\"text\" name=\"login\" required className=\"login__form-input\" value={this.state.login} onChange={this.handleInputChange} />\r\n                            </label>\r\n                            <label className=\"login__form-label\">\r\n                                Пароль:\r\n                                <input type=\"password\" name=\"password\" required className=\"login__form-input\" value={this.state.password} onChange={this.handleInputChange} />\r\n                            </label>\r\n                            <input type=\"submit\" value=\"Войти\" className=\"login__form-submit\" />\r\n                        </form>\r\n                        <Link className=\"login__link\" to=\"/\">Вернуться на главную</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport ListPage from './ListPage';\r\nimport DetailsPage from './DetailsPage';\r\nimport Footer from './Footer';\r\nimport LoginPage from './LoginPage';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Router>\r\n          <main className=\"app__main\">\r\n            <Switch>\r\n              <Route component={ListPage} exact={true} path=\"/\"></Route>\r\n              <Route component={DetailsPage} path=\"/details/:catId\"></Route>\r\n              <Route component={LoginPage} path=\"/login\"></Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/main.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}